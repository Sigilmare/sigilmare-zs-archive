SKILLMOD_TO_NAME_AND_VALUES = {
    [1] = {Name = "Health", Value = 100},
    [2] = {Name = "Speed", Value = 225},
    [3] = {Name = "Worth", Value = 200},
    [4] = {Name = "Fall Damage Threshold", Value = 1},
    [5] = {Name = "Fall Damage Recovery", Value = 1},
    [6] = {Name = "Fall Damage Slowdown", Value = 1},
    [7] = {Name = "Food Recovery", Value = 1},
    [8] = {Name = "Food Eat Time", Value = 1},
    [9] = {Name = "Jump Power", Value = 1},
    [10] = {}, -- Skillmod ID 10 doesn't exist, skip
    [11] = {Name = "Reload Speed", Value = 1},
    [12] = {Name = "Deploy Speed", Value = 1},
    [13] = {Name = "Unarmed Damage", Value = 1},
    [14] = {Name = "Unarmed Swing Delay", Value = 1},
    [15] = {Name = "Melee Damage", Value = 1},
    [16] = {Name = "Hammer Swing Delay", Value = 1},
    [17] = {Name = "Controllable Speed", Value = 1},
    [18] = {Name = "Controllable Handling", Value = 1},
    [19] = {Name = "Controllable Health", Value = 1},
    [20] = {Name = "Manhack Damage", Value = 1},
    [21] = {Name = "Barricade Phase Speed", Value = 1},
    [22] = {Name = "Medkit Cooldown", Value = 1},
    [23] = {Name = "Medkit Effectiveness", Value = 1},
    [24] = {Name = "Repair Rate", Value = 1},
    [25] = {Name = "Turret Health", Value = 1},
    [26] = {Name = "Turret Scan Speed", Value = 1},
    [27] = {Name = "Turret Scan Angle", Value = 1},
    [28] = {Name = "Blood Armor", Value = 20},
    [29] = {Name = "Melee Knockback", Value = 1},
    [30] = {Name = "Self Damage", Value = 1},
    [31] = {Name = "Aim Spread", Value = 1},
    [32] = {Name = "Points", Value = 0},
    [33] = {Name = "Point Gain", Value = 1},
    [34] = {Name = "Fall Damage Damage", Value = 1},
    [35] = {Name = "Manhack Health", Value = 1},
    [36] = {Name = "Deployable Health", Value = 1},
    [37] = {Name = "Deployable Pack Time", Value = 1},
    [38] = {Name = "Drone Speed", Value = 1},
    [39] = {Name = "Drone Carry Mass", Value = 1},
    [40] = {Name = "Medgun Fire Delay", Value = 1},
    [41] = {Name = "Resupply Delay", Value = 1},
    [42] = {Name = "Field Range", Value = 1},
    [43] = {Name = "Field Delay", Value = 1},
    [44] = {Name = "Drone Gun Range", Value = 1},
    [45] = {Name = "Healing Received", Value = 1},
    [46] = {Name = "Reload Speed Pistol", Value = 1},
    [47] = {Name = "Reload Speed SMG", Value = 1},
    [48] = {Name = "Reload Speed Assault", Value = 1},
    [49] = {Name = "Reload Speed Buckshot", Value = 1},
    [50] = {Name = "Reload Speed Rifle", Value = 1},
    [51] = {Name = "Reload Speed Bolts", Value = 1},
    [52] = {Name = "Reload Speed Pulse", Value = 1},
    [53] = {Name = "Reload Speed Explosive", Value = 1},
    [54] = {Name = "Melee Attacker Damage Reflect", Value = 0},
    [55] = {Name = "Pulse Weapon Slow", Value = 1},
    [56] = {Name = "Melee Damage Taken", Value = 1},
    [57] = {Name = "Poison Damage Taken", Value = 1},
    [58] = {Name = "Bleed Damage Taken", Value = 1},
    [59] = {Name = "Melee Swing Delay", Value = 1},
    [60] = {Name = "Melee Damage To Blood Armor", Value = 0},
    [61] = {Name = "Melee Movement Speed On Kill", Value = 0},
    [62] = {Name = "Melee Power Attack", Value = 1},
    [63] = {Name = "Knockdown Recovery", Value = 1},
    [64] = {Name = "Melee Range", Value = 1},
    [65] = {Name = "Slow Effectiveness Taken", Value = 1},
    [66] = {Name = "Explosive Damage Taken", Value = 1},
    [67] = {Name = "Fire Damage Taken", Value = 1},
    [68] = {Name = "Prop Carry Capacity", Value = 1},
    [69] = {Name = "Prop Throw Strength", Value = 1},
    [70] = {Name = "Physics Damage Taken", Value = 1},
    [71] = {Name = "Vision Alter Duration", Value = 1},
    [72] = {Name = "Dim Vision Effectiveness", Value = 1},
    [73] = {Name = "Prop Carry Slow", Value = 1},
    [74] = {Name = "Bleed Speed", Value = 1},
    [75] = {Name = "Melee Leg Damage Add", Value = 0},
    [76] = {Name = "Sigil Teleport", Value = 1},
    [77] = {Name = "Melee Attacker Damage Reflect Percent", Value = 0},
    [78] = {Name = "Poison Speed", Value = 1},
    [79] = {Name = "Projectile Damage Taken", Value = 1},
    [80] = {Name = "Explosive Damage Radius", Value = 1},
    [81] = {Name = "Medgun Reload Speed", Value = 1},
    [82] = {Name = "Weapon Weight Slow", Value = 1},
    [83] = {Name = "Fright Duration", Value = 1},
    [84] = {Name = "Iron Sights Effectiveness", Value = 1},
    [85] = {Name = "Blood Armor Damage Reduction", Value = 0},
    [86] = {Name = "Blood Armor", Value = 1},
    [87] = {Name = "Blood Armor Gain", Value = 1},
    [88] = {Name = "Low Health Slow", Value = 1},
    [89] = {Name = "Projectile Speed", Value = 1},
    [90] = {Name = "Scrap Start", Value = 0},
    [91] = {Name = "End Wave Points", Value = 0},
    [92] = {Name = "Arsenal Discount", Value = 1},
    [93] = {Name = "Cloud Radius", Value = 1},
    [94] = {Name = "Cloud Time", Value = 1},
    [95] = {Name = "Projectile Damage", Value = 1},
    [96] = {Name = "Explosive Damage", Value = 1},
    [97] = {Name = "Turret Range", Value = 1},
    [98] = {Name = "Aim Shake", Value = 1},
    [99] = {Name = "Med Dart Effectiveness", Value = 1},
}

function MakepActiveSkillMods()
    local s = BetterScreenScale()

    local frame = vgui.Create("DFrame")
    frame:SetTitle("Active Skill Modifiers")
    frame:SetSize(600 * s, 800 * s)
    frame:Center()
    frame:MakePopup()

    local scroll = vgui.Create("DScrollPanel", frame)
    scroll:Dock(FILL)

    local help = scroll:Add("DButton")
    help:SetText("Open Help")
    help:SetFont("ZSHUDFontSmallest")
    help:SizeToContents()
    help:Dock(TOP)
    help.DoClick = function() -- Don't remove the credit, be kind
        Derma_Message(
            "These are your current skill modifier values right now\n\n90% of values are 1 by default as they are multipliers\nThe other 10% are non-multipliers and use addition\n\nMade by Sigilmare\nsteamcommunity.com/id/sigilmare",
            "Active Skill Modifiers Help",
            "OK"
        )
    end

	local skillmodifiers = {}
	local gm_modifiers = GAMEMODE.SkillModifiers
	for skillid in pairs(table.ToAssoc(MySelf:GetDesiredActiveSkills())) do
		local modifiers = gm_modifiers[skillid]
		if modifiers then
			for modid, amount in pairs(modifiers) do
				skillmodifiers[modid] = (skillmodifiers[modid] or 0) + amount
			end
		end
	end

	for id, data in ipairs(SKILLMOD_TO_NAME_AND_VALUES) do
        if data.Name and data.Value then
            text = scroll:Add("DLabel")
            text:SetText(data.Name..": "..data.Value + (skillmodifiers[id] or 0))
            text:SetFont("ZSHUDFontSmallest")
            text:SizeToContents()
            text:Dock(TOP)
            text:DockMargin(0, 4 * s, 0, 0)
        end
	end
end
